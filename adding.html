<!DOCTYPE html>
<html>
  <head>
    <title>Add Doctors</title>
  </head>
<body>
   <center>Add Doctors</center>
  <form action="" method="post">

  First name:<br>
  <input type="text" id="firstname">
  <p></p>

  Last name:<br>
  <input type="text" id="lastname">
  <p></p>

  Salary:<br>
  <input type="number" id="salary">
  <p></p>

  Birth Date:<br>
  <input type="date" id="birthDate">
  <p></p>

  Address:<br>
  <input type="text" id="address">
  <p></p>

  Department ID:<br>
  <input type="number" id="deptID">
  <p></p>
   
  Room:<br>
  <input type="number" id="room">
  <p></p>

  <button type = "button"
    onclick = "add()">
   Add
  </button>
  <p></p>

  <nav>
  <a href="index.html">Back to Main Page</a> 
  </nav>

  <script type="text/javascript">
      const API_URL = 'http://localhost:3000/api';

      const add = () =>{
          const firstname = document.getElementById('firstname').value;
          const lastname = document.getElementById('lastname').value;
          const salary = document.getElementById('salary').value;
          const birth = document.getElementById('birthDate').value;
          const address = document.getElementById('address').value;
          const dep_id = document.getElementById('deptID').value;
          const room = document.getElementById('room').value;
          const obj = {
            firstname: firstname,
            lastname: lastname,
            salary: salary,
            birth: birth,
            address: address,
            dep_id: dep_id,
            room: room,
          }
          console.log('---here', obj)

          fetch(API_URL+'/doctors', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({ obj }),
          })
          .then(response => console.log(response))
          .then(getdata())
    }
  </script>

</body>
</html>