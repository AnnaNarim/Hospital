<!DOCTYPE html>
<html>
  <head>
    <title>Add Doctors</title>
  </head>
<body>
   <center>Add Doctors</center>

  First name:<br>
  <input type="text" id="firstname">
  <p></p>

  Last name:<br>
  <input type="text" id="lastname">
  <p></p>

  Salary:<br>
  <input type="number" id="salary">
  <p></p>

  Birth Date:<br>
  <input type="text" id="birthDate">
  <p></p>

  Address:<br>
  <input type="text" id="address">
  <p></p>

  Department ID:<br>
  <input type="number" id="deptID">
  <p></p>
   
  Room:<br>
  <input type="number" id="room">
  <p></p>

  <button type = "button"
    onclick = "add()">
   Add
  </button>
  <p></p>

  <nav>
  <a href="/">Back to Main Page</a> 
  </nav>

  <script type="text/javascript">
      const API_URL = 'http://localhost:3000/api';

      const add = () =>{
          const firstname = document.getElementById('firstname').value;
          const lastname = document.getElementById('lastname').value;
          const salary = document.getElementById('salary').value;
          const birth = document.getElementById('birthDate').value;
          const address = document.getElementById('address').value;
          const dep_id = document.getElementById('deptID').value;
          const room = document.getElementById('room').value;

          fetch(API_URL+'/doctors', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              firstname: firstname,
              lastname: lastname,
              salary: salary,
              birth: birth,
              address: address,
              dep_id: dep_id,
              room: room
            }),
          })
          .then(response => console.log(response))
          .then(() => {
            alert('Doctor Added!');
            document.getElementById('firstname').value = '';
            document.getElementById('lastname').value = '';
            document.getElementById('salary').value = '';
            document.getElementById('birthDate').value= '';
            document.getElementById('address').value= '';
            document.getElementById('deptID').value= '';
            document.getElementById('room').value= '';
          })
          .catch(console.error);
    }
  </script>
</body>
</html>